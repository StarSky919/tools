<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0">
    <link rel="icon" href="../../resources/logo.ico" type="image/x-icon">
    <link rel="shortcut icon" href="../../resources/logo.ico" type="image/x-icon">
    <link rel="stylesheet" href="../../resources/css/style.css" type="text/css">
    <link rel="stylesheet" href="../../resources/css/cy2calc.css" type="text/css">
    <title>Cytus II计算器</title>
</head>

<body>
    <div class="nav">
        <input type="checkbox" id="checkbox">
        <label for="checkbox" class="menu">
            <i class="fa fa-navicon"></i>
        </label>
        <div class="items"></div>
        <span class="home">
            <a href="../../" class="fa fa-home"></a>
        </span>
        <span class="title">Cytus II Calculator</span>
    </div>
    <div class="row">
        <div class="main">
            <h2>ATP计算</h2>
            <p id="result">开始计算以查看结果</p>
            <input type="number" class="text" id="atp" placeholder="输入ATP" />
            <input type="number" class="text" id="ez" placeholder="输入Easy通关数" />
            <input type="number" class="text" id="hd" placeholder="输入Hard通关数" />
            <input type="number" class="text" id="ch" placeholder="输入Chaos通关数" />
            <input type="number" class="text" id="gl" placeholder="输入Glitch通关数" />
            <input type="number" class="text" id="total" placeholder="输入谱面总数" />
            <p class="button">
                <a id="calc" onclick="calc()">计算</a>
                <a id="reset" onclick="reset()">重置</a>
            </p>
            <p class="copyright">
                <i class="fa fa-copyright"></i> 2021 StarSky919
            </p>
        </div>
    </div>
    <div class="footer">
        <a href="../" class="gr">小P计算</a>
        <a href="#" class="atp active">ATP计算</a>
    </div>
    <script type="text/javascript" src="../../resources/js/main.js"></script>
    <script type="text/javascript" src="../../resources/js/cy2calc.js"></script>
    <script type="text/javascript">
        let atp, ez, hd, ch, gl, total;

        function calc() {
            atp = Number(getElm1('atp').value);
            ez = Number(getElm1('ez').value);
            hd = Number(getElm1('hd').value);
            ch = Number(getElm1('ch').value);
            gl = Number(getElm1('gl').value);
            total = Number(getElm1('total').value);

            if (atp > 100 || ez + hd + ch + gl <= 0 || ez + hd + ch + gl > total || total == 0 || (atp / 100) / ((ez + hd + ch + gl) / total) > 1) {
                al1();
                return;
            } else if (ez + hd + ch + gl != 0 && atp == 0) {
                al1();
                return;
            } else if (ez + hd + ch + gl == 0 && atp != 0) {
                al1();
                return;
            } else if (atp < 0 || ez < 0 || hd < 0 || ch < 0 || gl < 0) {
                al1();
                return;
            } else {
                let res = ((atp / 100) / ((ez + hd + ch + gl) / total) * 100).toFixed(2);
                res2(res);
                return;
            }
        }

        function reset() {
            result.innerHTML = str;
            getElm1('atp').value = '';
            getElm1('ez').value = '';
            getElm1('hd').value = '';
            getElm1('ch').value = '';
            getElm1('gl').value = '';
            getElm1('total').value = '';
        }
    </script>
</body>

</html>